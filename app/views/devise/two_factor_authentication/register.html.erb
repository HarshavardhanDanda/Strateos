<div class="login">
  <script type="text/javascript">

    function setValue(ref) { // eslint-disable-line no-unused-vars
      ref.setAttribute('value', ref.value);
    }
  </script>

  <h1 class="login__header tx-type--invert tx-type--heavy">Enable 2FA</h1>

  <%= render("devise/shared/error_messages", resource: resource) %>
  <p><%= flash[:notice] %></p>

  <%= form_tag([resource_name, :two_factor_authentication], :method => :get, "accept-charset" => "UTF-8", "id" => "new_user", "class" => "login-form login__form") do %>
    <div class="tx-stack tx-stack--xxlg">
      <p class="tx-type--invert">
        Install the&nbsp;
        <a href="https://support.google.com/accounts/answer/1066447" target="_new">Google Authenticator</a>&nbsp;
        app for iPhone, Android, or Blackberry to use two-factor authentication with Strateos.&nbsp;
        Once installed, use the app to take a picture of the code below to configure.&nbsp;
      </p>
      <img  src=<%= @qrcode.as_png.to_data_url %> class="login-form__qrcode"/>
    </div>

    <div class="login-form__action login-form--animate form-actions">
      <button id="submitButton" class="login-form__submit btn btn-default" name="button" type="submit" tabindex=3>Register</button>
    </div>
  <% end %>

  <div class="login__divider">
    <h2 class="tx-type--invert">OR</h2>
  </div>

  <%= form_tag('/users/sign_out', :method => :delete, "accept-charset" => "UTF-8") do %>
    <div class="login__links">
      <button class="btn btn-primary btn-medium btn-standard btn-link" type="submit"><span class="btn__content">Sign out</span></button>
    </div>
  <% end %>
</div>
