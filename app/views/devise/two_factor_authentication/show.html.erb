<div class="login">
  <script type="text/javascript">

    function setValue(ref) { // eslint-disable-line no-unused-vars
      ref.setAttribute('value', ref.value);
    }
  </script>

  <h1 class="login__header tx-type--invert tx-type--heavy">Log In</h1>

  <%= render("devise/shared/error_messages", resource: resource) %>
  <p><%= flash[:notice] %></p>

  <%= form_tag([resource_name, :two_factor_authentication], :method => :put, "accept-charset" => "UTF-8", "id" => "new_user", "class" => "login-form login__form") do %>
    <div class="tx-stack tx-stack--xxlg">
      <div>
        <p class="tx-type--invert">
          Enter the code generated by your auth service
        </p>
      </div>

      <div class="login-form__group login-form--animate">
        <input
          required
          onkeyup="setValue(this);"
          onfocus="setValue(this);"
          onchange="setValue(this);"
          value=""
          type="code"
          name="code"
          class="form-control login-form__group-input"
          tabindex=2
          id="codeInput"
        >
        <label class="login-form__group-label" for="code"><h3 class="tx-type--invert tx-type--secondary">6 digit code</h3></label>
      </div>
    </div>

    <div class="login-form__action login-form--animate form-actions">
      <button id="submitButton" class="login-form__submit btn btn-default" name="button" type="submit" tabindex=3>Log in</button>
    </div>
  <% end %>

  <div class="login__divider">
    <h2 class="tx-type--invert">OR</h2>
  </div>

  <%= form_tag('/users/sign_out', :method => :delete, "accept-charset" => "UTF-8") do %>
    <div class="login__links">
      <button class="btn btn-primary btn-medium btn-standard btn-link" type="submit"><span class="btn__content">Sign out</span></button>
    </div>
  <% end %>
</div>
